{"is_source_file": true, "format": "JavaScript", "description": "This file provides storage helper functions for managing notes with schema versioning and migration, specifically using localStorage for persistence.", "external_files": [], "external_methods": [], "published": ["loadNotes", "saveNotes"], "classes": [], "methods": [{"name": "loadNotes()", "description": "Load notes array from localStorage, running migrations if necessary.", "scope": "", "scopeKind": ""}, {"name": "saveNotes(notes)", "description": "Persist notes array to localStorage under the versioned key.", "scope": "", "scopeKind": ""}, {"name": "migrateIfNeeded()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeParse(json, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.getItem", "localStorage.setItem", "safeParse"], "search-terms": ["storage helper", "migration", "versioning", "localStorage", "notes"], "state": 2, "file_id": 14, "knowledge_revision": 42, "git_revision": "fbf08559ebe838f38ae3d6a9ceee6e79ed552233", "ctags": [{"_type": "tag", "name": "CURRENT_VERSION", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^const CURRENT_VERSION = 1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LEGACY_KEYS", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^const LEGACY_KEYS = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^const STORAGE_KEY = `notesapp.v${CURRENT_VERSION}.data`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "initial", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^  const initial = { version: CURRENT_VERSION, notes: [] };$/", "language": "JavaScript", "kind": "class", "scope": "migrateIfNeeded", "scopeKind": "class"}, {"_type": "tag", "name": "loadNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^export function loadNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "migrateIfNeeded", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^function migrateIfNeeded() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "migrated", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^      const migrated = {$/", "language": "JavaScript", "kind": "class", "scope": "migrateIfNeeded", "scopeKind": "class"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^    const normalized = { version: CURRENT_VERSION, notes };$/", "language": "JavaScript", "kind": "class", "scope": "loadNotes", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^        notes: Array.isArray(data) ? data : [],$/", "language": "JavaScript", "kind": "property", "scope": "migrateIfNeeded.migrated", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^    const normalized = { version: CURRENT_VERSION, notes };$/", "language": "JavaScript", "kind": "field", "scope": "loadNotes.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^    notes: Array.isArray(notes) ? notes : [],$/", "language": "JavaScript", "kind": "property", "scope": "saveNotes.payload", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^  const initial = { version: CURRENT_VERSION, notes: [] };$/", "language": "JavaScript", "kind": "property", "scope": "migrateIfNeeded.initial", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "saveNotes", "scopeKind": "class"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^function safeParse(json, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback)"}, {"_type": "tag", "name": "saveNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^export function saveNotes(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^        version: CURRENT_VERSION,$/", "language": "JavaScript", "kind": "property", "scope": "migrateIfNeeded.migrated", "scopeKind": "class"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^    const normalized = { version: CURRENT_VERSION, notes };$/", "language": "JavaScript", "kind": "property", "scope": "loadNotes.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^    version: CURRENT_VERSION,$/", "language": "JavaScript", "kind": "property", "scope": "saveNotes.payload", "scopeKind": "class"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/simple-notes-application-300741-300756/frontend_react_notes/src/utils/storage.js", "pattern": "/^  const initial = { version: CURRENT_VERSION, notes: [] };$/", "language": "JavaScript", "kind": "property", "scope": "migrateIfNeeded.initial", "scopeKind": "class"}], "hash": "312f979009557febe23b5a2265204a5f", "format-version": 4, "code-base-name": "frontend_react_notes", "filename": "frontend_react_notes/src/utils/storage.js", "fields": [{"name": "notes: Array.isArray(data) ? data : [],", "scope": "migrateIfNeeded.migrated", "scopeKind": "class", "description": "unavailable"}, {"name": "const normalized = { version: CURRENT_VERSION, notes };", "scope": "loadNotes.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: Array.isArray(notes) ? notes : [],", "scope": "saveNotes.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "const initial = { version: CURRENT_VERSION, notes: [] };", "scope": "migrateIfNeeded.initial", "scopeKind": "class", "description": "unavailable"}, {"name": "version: CURRENT_VERSION,", "scope": "migrateIfNeeded.migrated", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"42": "fbf08559ebe838f38ae3d6a9ceee6e79ed552233"}]}